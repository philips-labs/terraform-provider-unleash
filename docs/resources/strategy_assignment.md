---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "unleash_strategy_assignment Resource - terraform-provider-unleash"
subcategory: ""
description: |-
  Provides a resource for add strategy to a feature toggle in the given environment.
---

# unleash_strategy_assignment (Resource)

Provides a resource for add strategy to a feature toggle in the given environment.

## Example Usage

```terraform
data "unleash_project" "example" {
  project_id = "default"
}

data "unleash_feature_type" "example" {
  type_id = "kill-switch"
}

resource "unleash_feature" "example" {
  name       = "toggle"
  project_id = data.unleash_project.example.project_id
  type       = data.unleash_feature_type.example.type_id
}

resource "unleash_strategy_assignment" "example" {
  feature_name  = unleash_feature.example.name
  project_id    = data.unleash_project.example.project_id
  environment   = "development"
  strategy_name = "flexibleRollout"
  parameters = {
    rollout    = "68"
    stickiness = "random"
    groupId    = "toggle"
  }
  variant {
    name = "a"
  }
  variant {
    name = "b" # if you see drifts with multiple variants, sort them by name.
    payload {
      type  = "string"
      value = "foo"
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `environment` (String) The environment where the strategy will take place
- `feature_name` (String) Feature name to assign the strategy to
- `project_id` (String) The unleash project the feature is in
- `strategy_name` (String) Strategy unique name

### Optional

- `parameters` (Map of String) Strategy parameters. All the values need to informed as strings.
- `variant` (Block List) Feature strategy variant. The api returns them sorted by name, so if you see drifts, sort them by name when declaring them in the configuration as well. (see [below for nested schema](#nestedblock--variant))

### Read-Only

- `id` (String) The ID of this resource.
- `strategy_id` (String) Strategy id

<a id="nestedblock--variant"></a>
### Nested Schema for `variant`

Required:

- `name` (String) Variant name

Optional:

- `payload` (Block Set, Max: 1) Variant payload. The type of the payload can be `string`, `json` or `csv` or `number` (see [below for nested schema](#nestedblock--variant--payload))
- `stickiness` (String) Variant stickiness. Default is `default`.
- `weight` (Number) Variant weight. Only considered when the `weight_type` is `fix`. It is calculated automatically if the `weight_type` is `variable`.
- `weight_type` (String) Variant weight type. The weight type can be `fix` or `variable`. Default is `variable`.

<a id="nestedblock--variant--payload"></a>
### Nested Schema for `variant.payload`

Required:

- `type` (String)
- `value` (String) Always a string value, independent of the type.
